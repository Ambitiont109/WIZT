(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1824:function(e,a,t){"use strict";t.r(a);var n=t(7),l=t(8),r=t(13),s=t(12),i=t(14),o=t(0),c=t.n(o),d=t(1),m=t(10),p=t(23),u=t(284),f=t(22),g=t(1745),b=t(16),y=t(40),h=t(6),w=t(41),v=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(i)))).state={dataset:"monthly_earning"},t.setDataSet=function(e){t.setState({dataset:e})},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.mainThemeDark,n=e.data,l=e.theme,r=this.state.dataset,s=h.a.merge({},n),i=s.datasets[r].map(function(e){return Object(b.a)({},e,{borderColor:l.palette.secondary.main,backgroundColor:l.palette.secondary.main,pointBackgroundColor:l.palette.secondary.dark,pointHoverBackgroundColor:l.palette.secondary.main,pointBorderColor:l.palette.secondary.contrastText,pointHoverBorderColor:l.palette.secondary.contrastText})});return c.a.createElement(y.MuiThemeProvider,{theme:t},c.a.createElement("div",{className:a.root},c.a.createElement("div",{className:"container relative p-16 sm:p-24 flex flex-row justify-between items-center"},c.a.createElement(m.b,{delay:100},c.a.createElement("div",{className:"flex-col"},c.a.createElement(d.bb,{className:"h2"},"Annual Earnings"),c.a.createElement(d.bb,{className:"h5",color:"textSecondary"},"Unique earning by month"))),c.a.createElement("div",{className:"flex flex-row items-center"},c.a.createElement(d.bb,null,s.datasets[r][0].year))),c.a.createElement("div",{className:"container relative h-200 sm:h-256 pb-16"},c.a.createElement(g.b,{data:{labels:s.labels,datasets:i},options:s.options}))))}}]),a}(o.Component);var x=Object(y.withStyles)(function(e){return{root:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)"}}},{withTheme:!0})(Object(w.a)(function(e){return{mainThemeDark:e.fuse.settings.mainThemeDark}})(v)),E=Object(y.withStyles)(null,{withTheme:!0})(function(e){var a=e.data,t=e.theme;a.datasets.map(function(e){return Object(b.a)({},e,{borderColor:t.palette.secondary.main,backgroundColor:t.palette.secondary.main})});return c.a.createElement(d.d,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"p-16  flex flex-row flex-wrap items-end"},c.a.createElement("div",{className:"pr-16"},c.a.createElement(d.bb,{className:"h3",color:"textSecondary"},"Earnings"),c.a.createElement(d.bb,{className:"text-56 font-300 leading-none mt-8"},a.conversion.value)),c.a.createElement("div",{className:"py-4 text-16 flex flex-row items-center"},c.a.createElement("div",{className:"flex flex-row items-center"},a.conversion.ofTarget>0&&c.a.createElement(d.x,{className:"text-green mr-4"},"trending_up"),a.conversion.ofTarget<0&&c.a.createElement(d.x,{className:"text-red mr-4"},"trending_down"),c.a.createElement(d.bb,null,a.conversion.ofTarget,"%")),c.a.createElement(d.bb,{className:"ml-4 whitespace-no-wrap"},"of target"))))});var N=Object(y.withStyles)(null,{withTheme:!0})(Object(p.b)(function(e){return{widgets:e.analyticsDashboardApp.widgets.data}},function(e){return Object(f.c)({},e)})(function(e){var a=e.data,t=e.theme;a.datasets.map(function(e){return Object(b.a)({},e,{borderColor:t.palette.secondary.main})});return c.a.createElement(d.d,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"p-16  flex flex-row flex-wrap items-end"},c.a.createElement("div",{className:"pr-16"},c.a.createElement(d.bb,{className:"h3",color:"textSecondary"},"Labels"),c.a.createElement(d.bb,{className:"text-56 font-300 leading-none mt-8"},a.impressions.value)),c.a.createElement("div",{className:"py-4 text-16 flex flex-row items-center"},c.a.createElement("div",{className:"flex flex-row items-center"},a.impressions.ofTarget>0&&c.a.createElement(d.x,{className:"text-green mr-4"},"trending_up"),a.impressions.ofTarget<0&&c.a.createElement(d.x,{className:"text-red mr-4"},"trending_down"),c.a.createElement(d.bb,null,a.impressions.ofTarget,"%")),c.a.createElement(d.bb,{className:"ml-4 whitespace-no-wrap"},"of target"))))})),T=Object(y.withStyles)(null,{withTheme:!0})(function(e){var a=e.data,t=e.theme,n=e.isLoggedIn;return a.datasets.map(function(e){return Object(b.a)({},e,{borderColor:t.palette.error.main,backgroundColor:t.palette.error.main})}),c.a.createElement(d.d,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"p-16 flex flex-row items-end flex-wrap"},c.a.createElement("div",{className:"pr-16"},c.a.createElement(d.bb,{className:"h3",color:"textSecondary"},n?"Images":"Users"),c.a.createElement(d.bb,{className:"text-56 font-300 leading-none mt-8"},a.visits.value)),c.a.createElement("div",{className:"py-4 text-16 flex flex-row items-center"},c.a.createElement("div",{className:"flex flex-row items-center"},a.visits.ofTarget>0&&c.a.createElement(d.x,{className:"text-green mr-4"},"trending_up"),a.visits.ofTarget<0&&c.a.createElement(d.x,{className:"text-red mr-4"},"trending_down"),c.a.createElement(d.bb,null,a.visits.ofTarget,"%")),c.a.createElement(d.bb,{className:"ml-4 whitespace-no-wrap"},"of target"))))}),C=t(171),k=t(42),O=t.n(k),j=t(64),A="[ANALYTICS DASHBOARD APP] GET WIDGETS";function S(){var e=O.a.post(j.a.baseUrl+"/admin/dashboard/");return function(a){return e.then(function(e){var t=e.data.earnings.map(function(e){return e.sum}),n=t.reduce(function(e,a){return e+a},0);e.data.earning&&e.data.earning[0].year,a({type:A,monthlyEarning:{datasets:{monthly_earning:[{year:null,label:"Sales",data:t,fill:"start"}]}},dailyEarning:{conversion:{value:n,ofTarget:13},chartType:"bar",datasets:[{label:"Earnings",data:[221,428,492,471,413,344,294]}]},dailyLabels:{impressions:{value:e.data.label_counts,ofTarget:12},chartType:"line",datasets:[{label:"Labels",data:[67e3,54e3,82e3,57e3,72e3,57e3,87e3,72e3,89e3,98700,112e3,136e3,11e4,149e3,98e3],fill:!1}]},dailyVisitors:{visits:{value:e.data.users,ofTarget:-9},chartType:"bar",datasets:[{label:"Visits",data:[432,428,327,363,456,267,231]}]},dailyLoggedIns:{visits:{value:e.data.image_counts,ofTarget:-9},chartType:"bar",datasets:[{label:"LoggedIn",data:[432,321,327,363,456,267,321]}]},sumUp:{datasets:[[{Sum:12334,label:"earning",data:[72,65,70,78,85,82,88],fill:!1,borderColor:"#5c84f1",value:65}],[{Sum:423234,label:"labels",data:[540,539,527,548,540,552,566],fill:!1,borderColor:"#5c84f1",value:43}],[{Sum:2333,label:"loggedIns",data:[1520,1529,1567,1588,1590,1652,1622],fill:!1,borderColor:"#5c84f1",value:-32}]]}})})}}var L={widgets:{widget1:{chartType:"line",datasets:{monthly_earning:[{label:"Sales",data:[3.9,2.5,3.8,4.1,1.9,3],fill:"start"}]},labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:32,left:32,right:32}},elements:{point:{radius:4,borderWidth:2,hoverRadius:4,hoverBorderWidth:2},line:{tension:0}},scales:{xAxes:[{gridLines:{display:!1,drawBorder:!1,tickMarkLength:18},ticks:{fontColor:"#ffffff"}}],yAxes:[{display:!1,ticks:{min:0,max:100,stepSize:2}}]},plugins:{filler:{propagate:!1},xLabelsOnTop:{active:!0}}}},widget2:{conversion:{value:492,ofTarget:13},chartType:"bar",datasets:[{label:"Earnings",data:[]}],labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:100,max:500}}]}}},widget3:{impressions:{value:"87k",ofTarget:12},chartType:"line",datasets:[{label:"Impression",data:[67e3,54e3,82e3,57e3,72e3,57e3,87e3,72e3,89e3,98700,112e3,136e3,11e4,149e3,98e3],fill:!1}],labels:["Jan 1","Jan 2","Jan 3","Jan 4","Jan 5","Jan 6","Jan 7","Jan 8","Jan 9","Jan 10","Jan 11","Jan 12","Jan 13","Jan 14","Jan 15"],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{}}]}}},widget4:{visits:{value:882,ofTarget:-9},chartType:"bar",datasets:[{label:"Visits",data:[432,428,327,363,456,267,231]}],labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:150,max:500}}]}}},widget5:{visits:{value:882,ofTarget:-9},chartType:"bar",datasets:[{label:"Users",data:[432,428,327]}],labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],options:{spanGaps:!1,legend:{display:!1},maintainAspectRatio:!1,layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:{min:150,max:500}}]}}},widget8:{datasets:[[{label:"",data:[],fill:!1,borderColor:"#5c84f1"}],[{label:"",data:[],fill:!1,borderColor:"#5c84f1"}],[{label:"",data:[],fill:!1,borderColor:"#5c84f1"}]],labels:["1","2","3","4","5","6","7"],options:{spanGaps:!0,legend:{display:!1},maintainAspectRatio:!0,elements:{point:{radius:2,borderWidth:1,hoverRadius:2,hoverBorderWidth:1},line:{tension:0}},layout:{padding:{top:24,left:16,right:16,bottom:16}},scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{}}]}},today:"12,540",change:{value:321,percentage:2.05}}}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case A:return{widgets:{widget1:Object(b.a)({},e.widgets.widget1,a.monthlyEarning),widget2:Object(b.a)({},e.widgets.widget2,a.dailyEarning),widget3:Object(b.a)({},e.widgets.widget3,a.dailyLabels),widget4:Object(b.a)({},e.widgets.widget4,a.dailyVisitors),widget5:Object(b.a)({},e.widgets.widget5,a.dailyLoggedIns),widget8:Object(b.a)({},e.widgets.widget8,a.sumUp)}};default:return e}},J=Object(f.d)({widgets:D}),B=t(1812),W=(t(1813),{Card:{color:"#fff"},media:{height:140}}),M=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(s.a)(a).call(this,e))).onClick=function(e){var a="",n=t.props.history;switch(e){case"users":a="/app/pages/users/";break;case"labels":a="/app/pages/labels";break;case"transactions":a="/app/pages/transactions";break;case"notifications":a="/admin/notifications"}n.push({pathname:a})},g.a.pluginService.register({afterDatasetsDraw:function(e,a){if(e.options.plugins.xLabelsOnTop&&(!e.options.plugins.xLabelsOnTop||!1!==e.options.plugins.xLabelsOnTop.active)){var t=e.ctx;e.data.datasets.forEach(function(a,n){var l=e.getDatasetMeta(n);l.hidden||l.data.forEach(function(e,n){t.fillStyle="rgba(255, 255, 255, 0.7)";t.font=g.a.helpers.fontString(13,"normal","Roboto, Helvetica Neue, Arial");var l=a.data[n].toString()+"k";t.textAlign="center",t.textBaseline="middle";var r=e.tooltipPosition();t.fillText(l,r.x,24),t.save(),t.beginPath(),t.setLineDash([5,3]),t.moveTo(r.x,39),t.lineTo(r.x,r.y-15),t.strokeStyle="rgba(255,255,255,0.54)",t.stroke(),t.restore()})})}}}),t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getWidgets()}},{key:"render",value:function(){var e=this,a=this.props.widgets;return a?c.a.createElement("div",{className:"w-full"},c.a.createElement(x,{data:a.widget1}),c.a.createElement(m.b,{animation:"transition.slideUpIn",delay:200},c.a.createElement("div",{className:"flex flex-col md:flex-row sm:p-8 container"},c.a.createElement("div",{className:"flex flex-1 flex-col min-w-0"},c.a.createElement(m.b,{delay:600},c.a.createElement(d.bb,{className:"p-16 pb-8 text-18 font-300"},"How are your active users trending over time?")),c.a.createElement("div",{className:"flex flex-col sm:flex sm:flex-row pb-32"},c.a.createElement("div",{className:"widget flex w-full sm:w-1/4 p-16"},c.a.createElement(T,{data:a.widget4,isLoggedIn:!1})),c.a.createElement("div",{className:"widget flex w-full sm:w-1/4 p-16"},c.a.createElement(N,{data:a.widget3})),c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(T,{data:a.widget5,isLoggedIn:!0})),c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(E,{data:a.widget2}))),c.a.createElement("div",{className:"flex flex-col sm:flex sm:flex-row pb-32"},c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(d.M,{style:{backgroundColor:"#0091ea"}},c.a.createElement(d.e,{onClick:function(a){a.preventDefault(),e.onClick("users")}},c.a.createElement(d.f,null,c.a.createElement(d.bb,{gutterBottom:!0,variant:"h5",component:"h2",style:W.Card},"Users"),c.a.createElement("div",{style:{width:"100px",margin:"auto"}},c.a.createElement(B.a,{value:66,text:"".concat(66,"%"),strokeWidth:10,styles:Object(B.b)({textColor:"#fff",pathColor:"#FF9800"})})))))),c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(d.M,{style:{backgroundColor:"#388e3c"}},c.a.createElement(d.e,{onClick:function(a){a.preventDefault(),e.onClick("labels")}},c.a.createElement(d.f,null,c.a.createElement(d.bb,{gutterBottom:!0,variant:"h5",component:"h2",style:W.Card},"Labels"),c.a.createElement("div",{style:{width:"100px",margin:"auto"}},c.a.createElement(B.a,{value:66,strokeWidth:10,text:"".concat(66,"%"),styles:Object(B.b)({textColor:"#fff",pathColor:"#9C27B0"})})))))),c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(d.M,{style:{backgroundColor:"#ff9800"}},c.a.createElement(d.e,{onClick:function(a){a.preventDefault(),e.onClick("transactions")}},c.a.createElement(d.f,null,c.a.createElement(d.bb,{gutterBottom:!0,variant:"h5",component:"h2",style:W.Card},"Transactions"),c.a.createElement("div",{style:{width:"100px",margin:"auto"}},c.a.createElement(B.a,{value:66,text:"".concat(66,"%"),strokeWidth:10,styles:Object(B.b)({textColor:"#fff",pathColor:"#388E3C"})})))))),c.a.createElement("div",{className:"widget w-full sm:w-1/4 p-16"},c.a.createElement(d.M,{style:{backgroundColor:"#9c27b0"}},c.a.createElement(d.e,{onClick:function(a){a.preventDefault(),e.onClick("notifications")}},c.a.createElement(d.f,null,c.a.createElement(d.bb,{gutterBottom:!0,variant:"h5",component:"h2",style:W.Card},"Notifications"),c.a.createElement("div",{style:{width:"100px",margin:"auto"}},c.a.createElement(B.a,{value:66,text:"".concat(66,"%"),strokeWidth:10,styles:Object(B.b)({textColor:"#fff",pathColor:"#0091EA"})}))))))))))):"Loading.."}}]),a}(o.Component);a.default=Object(C.a)("analyticsDashboardApp",J)(Object(u.g)(Object(p.b)(function(e){return{widgets:e.analyticsDashboardApp.widgets.widgets}},function(e){return Object(f.c)({getWidgets:S},e)})(M)))}}]);